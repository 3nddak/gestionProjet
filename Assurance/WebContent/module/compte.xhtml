<?xml version="1.0" encoding="UTF-8"?>
<html manifest="demo.appcache" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
         xmlns:sec="http://www.springframework.org/security/tags"
             
         xmlns:jsf="http://xmlns.jcp.org/jsf"> 

    <ui:composition>
        <tr jsf:rendered="#{sec:areAllGranted('ACCESS_ASSURANCE_COMPTE')}">
             <td>Interface Compte</td>
            <td>
                <h:selectOneMenu class="form-control"   id="compte" requiredMessage="Veuillez renseigner le theme"   value="#{userThemeBean.utilisateur.couleur}" converter="entityConverter"  >
                    <f:selectItem itemLabel="Liste des themes" itemValue="" noSelectionOption="true"/>
                    <f:selectItems value="#{userThemeBean.listCouleur}" var="c" itemLabel="#{c.description}" itemValue="#{c}"  />
                    <p:ajax event="click" listener="#{userThemeBean.afficherCompte()}" update="comptec,comptet"  />
                </h:selectOneMenu>
            </td>
            <td >
                <p:outputPanel id="comptec" class="#{userThemeBean.compte}"  >
                    <span  class="btn-lg btn pull-right"  style="background-color: #{userThemeBean.utilisateur.couleur.codeCouleur}"/>
                </p:outputPanel>
                <p:outputPanel id="comptet" class="#{!userThemeBean.compte}" >
                    <span  class="btn-lg btn pull-right"  style="background-color: #{userThemeBean.retournerCouleur(userThemeBean.utilisateur.themeCompte).codeCouleur}"/>
                </p:outputPanel>
            </td>

        </tr>
    </ui:composition>

</html>
