<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pe="http://primefaces.org/ui/extensions" 
      xmlns:p="http://primefaces.org/ui">


    <ui:composition >
        <h:form class="form-horizontal">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <h:outputLabel  value="#{msg['titre.pays']}"  for="pays" class="" /><h:outputLabel for="pays" value="*"  class="etoile_rouge" />
                    <!--h:message for="pays"  id="paysMessage" class="errorClass pull-right" /-->
                    <h:selectOneMenu required="true" requiredMessage="#{msg['compagnie.pays.requireMessage']}" converter="entityConverter"  id="pays" value="#{primeCapitalRestantDuAsVieBean.paysSelected}"   class="form-control" >
                        <f:selectItem  itemLabel="#{msg['titre.pays']}" noSelectionOption="true"/>
                        <f:selectItems  value="#{primeCapitalRestantDuAsVieBean.listPays}" var="pays" itemValue="#{pays}" itemLabel="#{pays.designationPays}" /> 
                        <f:ajax event="click" render="paysMessage" />
                        <p:ajax  listener="#{primeCapitalRestantDuAsVieBean.initCompagnieByPays()}"  update="compagnie" />
                    </h:selectOneMenu>
                    <h:message for="pays"  id="paysMessage" class="errorClass form-control" />
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <h:outputLabel  value="#{msg['titre.compagnie']}"  for="compagnie" /><h:outputLabel  value="*"  for="compagnie" class="etoile_rouge" />
                    <h:selectOneMenu converter="entityConverter" required="true" requiredMessage="#{msg['courtier.compagnie.requireMessage']}"  id="compagnie" value="#{primeCapitalRestantDuAsVieBean.compagnieSelected}"   class="form-control" >
                        <f:selectItem  itemLabel="#{msg['titre.compagnie']}" noSelectionOption="true"/>
                        <f:selectItems  value="#{primeCapitalRestantDuAsVieBean.listCompagnies}" var="compagnie" itemValue="#{compagnie}" itemLabel="#{compagnie.abbreviation}" /> 
                        <f:ajax event="click" render="compagnieMessage" />
                        <p:ajax listener="#{primeCapitalRestantDuAsVieBean.initCourtierByCompagnie()}" update="courtier"/>
                    </h:selectOneMenu>
                    <h:message for="compagnie"  id="compagnieMessage" class="errorClass form-control" />
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <h:outputLabel  value="#{msg['titre.courtier']}"   for="courtier" /><h:outputLabel  value="*"  for="courtier" class="etoile_rouge" />
                    <h:selectOneMenu converter="entityConverter" required="true" requiredMessage="#{msg['pv.courtier.requireMessage']}" id="courtier" value="#{primeCapitalRestantDuAsVieBean.courtierSelected}"   class="form-control" >
                        <f:selectItem  itemLabel="#{msg['titre.courtier']}" noSelectionOption="true"/>
                        <f:selectItems  value="#{primeCapitalRestantDuAsVieBean.listCourtiers}" var="courtier" itemValue="#{courtier}" itemLabel="#{courtier.abbreviation}" /> 
                        <f:ajax event="click" render="courtierMessage" />

                    </h:selectOneMenu>
                    <h:message for="courtier"  id="courtierMessage" class="errorClass form-control" />
                </div>
                 </div>
            <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <h:outputLabel  value="#{msg['titre.typeCapitauxGaranties']}"  for="tcg"  /><h:outputLabel  value="*"  for="tcg" class="etoile_rouge" />
                    <h:selectOneMenu converter="entityConverter" required="true" requiredMessage="#{msg['titre.typeCapitauxGaranties.requiredMessage']}"  id="tcg" value="#{primeCapitalRestantDuAsVieBean.primeCapitalRestantDuAsVie.typeCapitauxGarantie}"   class="form-control" >
                        <f:selectItem  itemLabel="#{msg['titre.typeCapitauxGaranties']}" noSelectionOption="true"/>
                        <f:selectItems  value="#{primeCapitalRestantDuAsVieBean.listCapitauxGarantie}" var="tcg" itemValue="#{tcg}" itemLabel="#{tcg}" /> 
                        <p:ajax event="click" update="@form"  />

                    </h:selectOneMenu>
                    <h:message for="tcg"  id="tcgMessage" class="errorClass form-control" />
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12 #{primeCapitalRestantDuAsVieBean.primeCapitalRestantDuAsVie.activeTypeCotisation}">
                    <p:outputPanel id="type" rendered="#{primeCapitalRestantDuAsVieBean.primeCapitalRestantDuAsVie.activeTypeCotisation}">
                        <h:outputLabel  value="#{msg['titre.typeDeCotisation']}"   for="tc" class="pull-left" /><h:outputLabel  value="*"  for="tc" class="etoile_rouge" />
                        <h:selectOneMenu converter="entityConverter" required="true" requiredMessage="#{msg['titre.typeDeCotisation.requiredMessage']}"  id="tc" value="#{primeCapitalRestantDuAsVieBean.primeCapitalRestantDuAsVie.typeDeCautisation}"   class="form-control" >
                            <f:selectItem  itemLabel="#{msg['titre.typeDeCotisation']}" noSelectionOption="true"/>
                            <f:selectItems  value="#{primeCapitalRestantDuAsVieBean.listTypeCotisation}" var="tc" itemValue="#{tc}" itemLabel="#{tc}" /> 

                            <f:ajax event="click" render="tcMessage" />
                        </h:selectOneMenu>
                        <h:message for="tc"  id="tcMessage" class="errorClass form-control" />
                    </p:outputPanel>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
                    <h:outputLabel  value="#{msg['titre.tauxAnnuelDeLaCotisation']}"  for="tdc" class="pull-left" /><h:outputLabel  value="*"  for="tdc" class="etoile_rouge" />
                    <p:inputText class="form-control" validatorMessage="#{msg['titre.erreurDeValiDation']}" converterMessage="#{msg['titre.formatIncorrect']}" required="true" requiredMessage="#{msg['titre.veuillezRenseignerLeTaux']}" value="#{primeCapitalRestantDuAsVieBean.primeCapitalRestantDuAsVie.tauxAnnuelleCautisation}" id="tdc">
                        <f:ajax event="blur" render="tdcMessage" />
                    </p:inputText>
                    <!--pe:keyFilter for="tdc"  mask="num" /-->
                    <h:message for="tdc"  id="tdcMessage" class="errorClass form-control" />
                </div>
            </div>
            <br/>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="btn-toolbar">
                        <p:commandButton value="#{msg['btn.annuller']}" class="btn btn-danger" actionListener="#{primeCapitalRestantDuAsVieBean.annuler()}" update="@form" />

                        <p:commandButton value="#{msg['btn.enregistrer']}" class="btn btn-purple pull-right" actionListener="#{primeCapitalRestantDuAsVieBean.savePrimeCapitalRestantDuAsVie()}" update="@form,listtaux" />
                    </div>
                </div>
            </div>
        </h:form>
    </ui:composition>

</html>