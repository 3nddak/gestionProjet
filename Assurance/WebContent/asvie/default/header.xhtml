<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"

    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html">
    <header class="main-header">
        <!-- Logo -->

        <a href="#" class="logo">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><h:graphicImage library="custom/img" name="monlogo_mini.png" width="40px"/></span>
            <span class="logo-lg"><h:graphicImage library="custom/img" name="monlogo_blanc_bis.png" width="150px"/></span>

            <!-- logo for regular state and mobile devices -->

        </a>
        <!-- Header Navbar: style can be found in header.less -->
        <nav class="navbar navbar-static-top" role="navigation">
            <h:form >
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>



                <!-- ######################## logo dagalma ###################### -->
                <div class="navbar-header cacher">

                </div>
                <!-- ######################## fin logo dagalma ###################### -->

                <div class="navbar-custom-menu">

                    <!-- ######################## logo users ###################### -->
                    <div class="navbar-header cacher">

                    <span class="navbar-brand mini-taille"   >                            
                        <!--p:graphicImage class="img-rounded  " library="custom/img" name="dagalma.png" height="20"/-->  
                        <p:outputLabel class="text-uppercase label bg-black-active" value="Reso Assurance / #{msg['titre.credit']}"></p:outputLabel>
                    </span>
                    <!--span class="navbar-brand"   >                            
                        <p:graphicImage class="img-rounded img-top pull-left " library="custom/img" name="credit_1.png" height="25" /--> 
                    <!--p:outputLabel class="label bg-purple-active" value="Credit" />
                     </span-->
                    <span class="navbar-brand pull-right mini-taille"   >                            
                        <p:outputLabel class="label bg-purple-active" value="#{msg['titre.soldeCompteOperation']} : "><span style="color: #ec971f;">#{currentUserCompteDetailBean.compteOpS}</span></p:outputLabel> 
                        &nbsp;
                        <p:outputLabel class="label bg-purple-active" value="#{msg['titre.soldeCompteCommission']} : " ><span style="color: #ec971f;">#{currentUserCompteDetailBean.compteCommS}</span></p:outputLabel> 
                    </span>
                        <!--span class="navbar-brand"   >                            
                            <h:graphicImage class=" img-rond "  id="img2" value="/images/dynamic/?file=#{loginBean.logoEntite}"> </h:graphicImage>
                        </span-->
                    </div>
                    <!-- ######################## fin logo users ###################### -->

                    <ul class="nav navbar-nav">
                        <!--span class="navbar-brand"   >                            
                            <h:graphicImage class=" img-rond "  id="img2" value="/images/dynamic/?file=#{loginBean.logoEntite}"> </h:graphicImage>
                        </span-->
                        <!-- Messages: style can be found in dropdown.less-->
                        <!-- User Account: style can be found in dropdown.less -->
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle user-profile" data-toggle="dropdown" aria-expanded="false">
                                <span class="glyphicon"> <h:graphicImage class="img-rond "  id="img2" value="/images/dynamic/?file=#{loginBean.logoEntite}"> </h:graphicImage></span>
                                <h:outputLabel class="" value="#{loginBean.nowUser}"/>  ( <h:outputLabel value="#{(loginBean.nomEntite)}"/> )

                                <span class=" fa fa-angle-down"/>
                            </a>                          
                            <ul class="dropdown-menu">

                                <li><p:commandLink value="#{msg['menu.haut.user.changerMdp']}" type="button" oncomplete="PF('changer_mdp').show();"/></li>
                                <li><p:commandLink  value="#{msg['menu.haut.user.interface']}" type="button" oncomplete="PF('changer_interface').show();"/></li>
                                <li><h:commandLink value="#{msg['menu.haut.user.menuprincipal']}" action="avmenug" /></li>
                                <li><h:commandLink value="#{msg['menu.haut.user.deconnecter']}" action="#{loginBean.logOut()}" /></li>                               

                            </ul>

                        </li>
                    </ul>
                </div>
            </h:form>
        </nav>
        <h:form>
            <p:remoteCommand name="newSms" process="@this" partialSubmit="true"  action="#{notificationsAsVieBean.coutNotifications()}" update="sms1,sms3" autoRun="false"/>
        </h:form>
        <p:dialog  header="#{msg['menu.haut.user.interface']}" showEffect="fade"  widgetVar="changer_interface" modal="true"  width="600"  minHeight="350" resizable="false" >
            <ui:include src="changer_interface.xhtml"/>
        </p:dialog>
        <p:dialog  header="#{msg['menu.haut.user.changerMdp']}" showEffect="fade"  widgetVar="changer_mdp" modal="true"  width="450"  minHeight="350" resizable="false" >
            <ui:include src="changer_mdp.xhtml"/>
        </p:dialog>
        <p:dialog  header="visualiser son code PIN" showEffect="fade"  widgetVar="pin_number" modal="true"  width="450"  minHeight="350" resizable="false" >
            <ui:include src="pin_number.xhtml"/>
        </p:dialog>

        <h:form id="confirmation">
            <p:confirmDialog header="#{msg['question.etesVousSur']}" message="#{msg['btn.supprimer']}" global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="#{msg['supprimer.oui']}" type="button" styleClass="ui-confirmdialog-yes btn btn-purple" icon="ui-icon-check"  />
                <p:commandButton value="#{msg['supprimer.non']}" type="button" styleClass="ui-confirmdialog-no btn btn-danger" icon="ui-icon-close" />
            </p:confirmDialog>
        </h:form>


    </header>

</ui:composition>

