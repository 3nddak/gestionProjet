
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
          
      xmlns:jsf="http://xmlns.jcp.org/jsf">


    <ui:composition>


        <div class="row">
            <div class="col-md-12 col-lg-12 col-sm-12">
                <p:outputPanel id="ajout" style="text-align:center;">
                    <h:form id="pr" class="form-horizontal"> 
                        <p:growl id="msgs"  globalOnly="true"  severity="info,warn"/>
                        <div class="form-group">
                            <div class="col-md-4 col-lg-4">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <h:outputLabel for="libelle" value="#{msg['pdr.libelle']}" class="pull-left text-left"/><h:outputLabel value="*" class="etoile_rouge pull-left text-left"/>
                                </div>
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <p:inputText id="libelle"  value="#{pointDeRetraitBean.pointDeRetraitToSave.libelle}" required="true" requiredMessage="#{msg['pdr.libelle.requireMessage']}"  styleClass="form-control" a:placeholder="LibellÃ©">

                                        <f:ajax event="keyup" render="libelleMessage"/>
                                    </p:inputText>
                                    <h:message for="libelle"  id="libelleMessage" class="errorClass animated" />    
                                </div> 
                            </div>
                            <div class="col-md-4 col-lg-4">
                                <h:outputLabel for="pays" value="#{msg['pdr.pays']}" class=" pull-left" /><h:outputLabel value="*" class="etoile_rouge pull-left text-left"/>
                                <h:selectOneMenu id="pays" value="#{pointDeRetraitBean.pointDeRetraitToSave.pays}" converter="omnifaces.SelectItemsConverter" required="true" requiredMessage="#{msg['pdr.pays.requireMessage']}" title="#{msg['pdr.pays']}" class=" form-control " >
                                    <f:selectItem itemLabel="#{msg['pdr.pays']}" noSelectionOption="true" itemDisabled="true" />
                                    <f:selectItems value="#{pointDeRetraitBean.allPays}" var="p" itemLabel="#{p.designationPays}" itemValue="#{p}" />
                                    <p:ajax event="click"  update="paysMessage"/>
                                    <p:ajax listener="#{pointDeRetraitBean.configTelephone()}" update="basic-addon,telephone" />
                                </h:selectOneMenu>
                                <h:message for="pays" id="paysMessage" class="errorClass animated" />     
                            </div>

                            <div class="col-md-4 col-lg-4">

                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 mymargin" >
                                    <h:outputLabel class="pull-left" value="#{msg['pdr.telephone']}" for="telephone" /><h:outputLabel value="*" class="etoile_rouge pull-left" />
                                </div>
                                <div class="input-group">
                                    <h:outputLabel  class="input-group-addon label-primary" style="color: white;" value="#{pointDeRetraitBean.indicatif}" id="basic-addon"/>
                                    <p:inputText id ="telephone" required="true" requiredMessage="#{msg['pdr.telephone.requireMessage']}"
                                                 converterMessage="#{msg['compagnie.tel.converterMessage']}"
                                                 validatorMessage="#{msg['compagnie.tel.validatorMessage']}"
                                                 value="#{pointDeRetraitBean.pointDeRetraitToSave.telephone}" title="#{msg['pdr.telephone']}" class="form-control" a:placeholder="#{msg['pdr.telephone']}"
                                                 maxlength="#{pointDeRetraitBean.longueur}" 
                                                 >
                                        <f:validateLength minimum="#{pointDeRetraitBean.longueur}"  maximum="#{pointDeRetraitBean.longueur}"  />
                                        <f:validateLongRange minimum="1"  />

                                        <p:ajax event="keyup" update="telMessage"/>
                                    </p:inputText>
                                    <pe:keyFilter for="telephone" mask="pint"/>
                                </div>
                                <h:message for="telephone" id="telMessage" class="errorClass animated"/>  
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-4 col-lg-4">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <h:outputLabel for="adresse" value="#{msg['pdr.adresse']}" class="pull-left text-left"/>
                                </div>
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <p:inputText id="adresse" value="#{pointDeRetraitBean.pointDeRetraitToSave.adresse}" class="form-control" placeholder="#{msg['pdr.adresse']}" >
                                    </p:inputText>

                                </div>
                            </div> 
                            <!--     
                                 <div class="col-md-4 col-lg-4">
                                     <div class="col-md-12 col-lg-12 col-sm-12">
                                         <h:outputLabel for="ville" value="Ville" class="pull-left text-left"/>
                                     </div>
                                     <div class="col-md-12 col-lg-12 col-sm-12">
                                         <h:selectOneMenu id="ville" value="" styleClass="form-control" >
                                         </h:selectOneMenu>
                                         
                                     </div>
                                 </div> 
                                 
                            -->    
                            <div class="col-lg-4 col-md-4 col-xs-4">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <h:outputLabel  value="#{msg['pdr.compagnie']}" class="pull-left text-left"/><h:outputLabel value="*" class="etoile_rouge pull-left text-left"/>
                                </div>
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <p:selectCheckboxMenu id="cp" class="form-control pull-left" 
                                                          value="#{pointDeRetraitBean.pointDeRetraitToSave.compagnie}" 
                                                          converter="omnifaces.SelectItemsConverter" label="#{msg['pdr.compagnie']}"
                                                          filter="true" filterMatchMode="startsWith" required="true" requiredMessage="#{msg['pdr.compagnie.requireMessage']}"  >
                                        <f:selectItems value="#{pointDeRetraitBean.allCompagnie}" var="comp" itemLabel="#{comp.designation}" itemValue="#{comp}" />
                                        <f:ajax event="change" render="cpMessage"/>
                                    </p:selectCheckboxMenu>
                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                        <h:message for="cp"  id="cpMessage" class="errorClass animated" />  
                                    </div>
                                </div>
                            </div>
                            <div jsf:rendered="false" class="col-lg-4 col-md-4 col-xs-4">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <h:outputLabel  value="Courtier" class="pull-left text-left"/><h:outputLabel value="*" class="etoile_rouge pull-left text-left"/>
                                </div>
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <p:selectCheckboxMenu id="ct" class="form-control pull-left" 
                                                          value="#{pointDeRetraitBean.pointDeRetraitToSave.courtier}" 
                                                          converter="omnifaces.SelectItemsConverter" label="Courtier"
                                                          filter="true" filterMatchMode="startsWith" required="true" requiredMessage="#{msg['pdr.compagnie.requireMessage']}"  >
                                        <f:selectItems value="#{pointDeRetraitBean.allCourtier}" var="court" itemLabel="#{court.designation}" itemValue="#{court}" />
                                        <f:ajax event="change" render="ctMessage"/>
                                    </p:selectCheckboxMenu>
                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                        <h:message for="ct"  id="ctMessage" class="errorClass animated" />  
                                    </div>
                                </div>
                            </div>


                        </div>

                        <div class="form-group">
                            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                    <p:commandButton value="#{msg['btn.annuller']}" action="#{pointDeRetraitBean.annuler()}" id="annuler" resetValues="true" update="pr,:formliste:msgs,:formliste:pdrliste, :formliste" class="btn btn-danger pull-left"/>

                                    <p:commandButton value="#{msg['btn.enregistrer']}" action="#{pointDeRetraitBean.ajouter()}" update="pr,:formliste:msgs,:formliste:pdrliste, :formliste"
                                                     class="btn btn-success pull-right" >

                                    </p:commandButton>
                                </div>
                            </div>
                        </div>
                    </h:form>

                </p:outputPanel>
            </div>
        </div>


        <!-- Fin du dialogue--> 



    </ui:composition> 

</html>

